<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gorilla Tag Color Matcher Pro</title>
  <style>
    :root {
      --gt-bg: #1a1a1a;
      --gt-green: #2ecc71;
    }
    body {
      font-family: 'Courier New', Courier, monospace;
      background-color: var(--gt-bg);
      color: white;
      text-align: center;
      padding: 20px;
    }
    .container {
      max-width: 600px;
      margin: auto;
      background: #333;
      padding: 20px;
      border-radius: 15px;
      border: 4px solid #555;
    }
    input, .slider { margin: 10px; padding: 8px; }
    .slider { width: 80%; accent-color: var(--gt-green); }
    
    .result-box {
      background: #000;
      padding: 15px;
      border: 2px solid var(--gt-green);
      margin: 20px 0;
      font-size: 24px;
      color: var(--gt-green);
    }

    .texture-comparison {
      display: flex;
      justify-content: space-around;
      margin-top: 20px;
    }
    .texture-box {
      width: 150px;
      height: 150px;
      background-color: #555;
      /* Using a placeholder gradient to simulate fur texture without external files */
      background-image: repeating-conic-gradient(#808080 0% 25%, #707070 0% 50%) ;
      background-size: 10px 10px;
      border: 3px solid #000;
      position: relative;
    }
    .fur-overlay {
      width: 100%;
      height: 100%;
      mix-blend-mode: multiply;
      transition: background-color 0.2s;
    }
    .label { margin-top: 10px; font-size: 14px; text-transform: uppercase; }
  </style>
</head>
<body>

<div class="container">
  <h1>GORILLA COLOR MATCHER</h1>
  
  <div class="input-group">
    <label>Hex:</label>
    <input type="text" id="hex" placeholder="#FFFFFF" oninput="updateFromHex()">
  </div>

  <div class="result-box" id="result">
    R: 0 &nbsp; G: 0 &nbsp; B: 0
  </div>

  <div class="texture-comparison">
    <div>
      <div class="texture-box"><div class="fur-overlay" id="desiredOverlay"></div></div>
      <div class="label">Input Color</div>
    </div>
    <div>
      <div class="texture-box"><div class="fur-overlay" id="closestOverlay"></div></div>
      <div class="label">Gorilla Match</div>
    </div>
  </div>

  <div style="margin-top:30px;">
    <div>Red: <span id="redVal">0</span></div>
    <input type="range" id="rS" class="slider" min="0" max="9" value="0" oninput="syncFromSliders()">
    <div>Green: <span id="greenVal">0</span></div>
    <input type="range" id="gS" class="slider" min="0" max="9" value="0" oninput="syncFromSliders()">
    <div>Blue: <span id="blueVal">0</span></div>
    <input type="range" id="bS" class="slider" min="0" max="9" value="0" oninput="syncFromSliders()">
  </div>
</div>

<script>
  function updateFromHex() {
    let hex = document.getElementById('hex').value;
    if(/^#?[0-9A-F]{6}$/i.test(hex)) {
      hex = hex.replace('#', '');
      let r = parseInt(hex.substring(0,2), 16);
      let g = parseInt(hex.substring(2,4), 16);
      let b = parseInt(hex.substring(4,6), 16);
      
      // Set Sliders
      document.getElementById('rS').value = Math.round(r / 255 * 9);
      document.getElementById('gS').value = Math.round(g / 255 * 9);
      document.getElementById('bS').value = Math.round(b / 255 * 9);
      
      calculate(r, g, b);
    }
  }

  function syncFromSliders() {
    let r9 = document.getElementById('rS').value;
    let g9 = document.getElementById('gS').value;
    let b9 = document.getElementById('bS').value;
    
    // Map 0-9 back to 0-255 for the "Input Color" preview
    let r = Math.round((r9 / 9) * 255);
    let g = Math.round((g9 / 9) * 255);
    let b = Math.round((b9 / 9) * 255);
    
    calculate(r, g, b);
  }

  function calculate(r, g, b) {
    let r9 = Math.round(r / 255 * 9);
    let g9 = Math.round(g / 255 * 9);
    let b9 = Math.round(b / 255 * 9);

    // Update Text
    document.getElementById('result').innerHTML = `R: ${r9} &nbsp; G: ${g9} &nbsp; B: ${b9}`;
    document.getElementById('redVal').innerText = r9;
    document.getElementById('greenVal').innerText = g9;
    document.getElementById('blueVal').innerText = b9;

    // Update Visuals
    document.getElementById('desiredOverlay').style.backgroundColor = `rgb(${r},${g},${b})`;
    
    // Gorilla Tag 0-9 values scaled to actual screen RGB
    let gr = Math.round((r9/9)*255);
    let gg = Math.round((g9/9)*255);
    let gb = Math.round((b9/9)*255);
    document.getElementById('closestOverlay').style.backgroundColor = `rgb(${gr},${gg},${gb})`;
  }

  // Initialize
  syncFromSliders();
</script>

</body>
</html>
